---
title: "CY19 Q1 March Journal"
permalink: "/cy19q1m3" 

toc: true
toc_sticky: true
toc_label: " Contents"
toc_icon: "bookmark"  # corresponding Font Awesome icon name (without fa prefix)

defaults:
  # _posts
  - scope:
      path: ""
      type: posts
    values:
      layout: single
      author_profile: true
      read_time: true
      comments: false
      share: true
      related: false
---
**Updated 2019/04/05** I've begun adding March content to this post. Hope to have all additions included by next week. Always open to additons! Please hit the [contact](https://cryptowords.github.io/contact/) page to get in touch.
{: .notice--primary}

# [Bitcoin Timestamp Security](https://medium.com/@lopp/bitcoin-timestamp-security-8dcfc3914da6)
### [Jameson Lopp](https://medium.com/@lopp)
### Posted March 3, 2019
Bitcoin is often referred to as a secure timestamping service. We never had a global record of truth with trustworthy timestamps, so how did this come about? It's generally due to Proof of Work being combined to a few simple rules by which miners must abide. The primary functions of miners are to:

* Take unordered unconfirmed transactions and put them in a specific order
* Bundle up the transactions into a valid container (block)
* Timestamp the block within an acceptable range of time

![timestamp image](/assets/images/cy19q1/cy19q1m2/lopp-1.png){: .align-center}

This final attribute is what enables Bitcoin to have a controlled release of the supply of bitcoins. Otherwise Bitcoin would suffer from rapid inflation whenever the hashrate increased. But it turns out that this attribute assigns quite a bit of utility to the Bitcoin protocol and also makes it possible for folks to [use Bitcoin as a data anchor](https://www.coindesk.com/bitcoin-the-trust-anchor-in-a-sea-of-blockchains) for other services. Because we have reasonably strong assurances that timestamps fall within a given range and we have mathematical assurance of the amount of energy required to rewrite the blockchain history, Bitcoin provides a sound anchor for timestamping of data. But how reliable is it?

### Bitcoin's Timestamp Flexibility

In order for the time field of a block header to be considered valid by nodes it must meet two criteria:

1. Be less than [2 hours in the future](https://github.com/bitcoin/bitcoin/blob/0.17/src/validation.cpp#L3252) from your computer's current time
2. Be [greater than the median timestamp](https://github.com/bitcoin/bitcoin/blob/0.17/src/validation.cpp#L3248) of the [past 11 blocks](https://github.com/bitcoin/bitcoin/blob/0.17/src/chain.h#L309)

The first rule makes sense — we obviously don't want anyone claiming to be from the future and it's very easy for nodes to reject such claims because we're all in general agreement about what time it currently is. There are a variety of ways that one can check the current time, though a very popular means of computers syncing their clocks is via the [Network Time Protocol](https://en.wikipedia.org/wiki/Network_Time_Protocol).

However, ensuring that the time isn't too far _before_ a sensible point is harder. This is because we can't assume that a node is validating the block anywhere near the time it is initially created. Nodes need to be able to leave and rejoin the network for any reason or no reason. A node that was too far behind the tip of the chain would start rejecting historical blocks if they had to be created within a few hours of the current time.

> "Nodes can leave and rejoin the network at will, accepting the proof-of-work chain as proof of what happened while they were gone." — Satoshi Nakamoto, Bitcoin Whitepaper

Perhaps counterintuitively, there is no rule requiring that a block's timestamp has to be _after_ the timestamp of the previous block. If you think about it, such a rule could cause problems — if a miner created a block with a timestamp nearly 2 hours in the future, the next block would also have to be far in the future — it would be harder for other miners to self-correct the median time of the past 11 blocks.

Also, recall that while blocks are expected to be produced about every 10 minutes, there is no real guarantee. Blocks could range from anywhere from several milliseconds to several hours apart. While the expected median time of the past 11 blocks should be 1 hour ago, it could be far more or far less.


![time between blocks](/assets/images/cy19q1/cy19q1m2/lopp-2.png){: .align-center}*Source: [https://en.bitcoin.it/wiki/Confirmation](https://en.bitcoin.it/wiki/Confirmation)*


### Pushing the Window

If you think about how an adversary might try to expand the acceptable timestamp window, it's pretty clear that no adversary will be able to push the timestamps to be more than 2 hours in the future, no matter how much hashpower they have. However, an attacker with sufficient hashpower could put some drag on the progression of "bitcoin time" by only minting blocks with timestamps that are barely valid — that are just one second after the median time of the past 11 blocks.

Are there incentives to do this? In the extreme case a "time warp attack" offers short term financial incentives that we'll discuss later. It's less clear what incentives may exist for only dragging the timestamps by a few hours here and there. Though considering that other protocols can be built on top of Bitcoin (such as Lightning Network) and can involve [time locks](https://github.com/bitcoin/bitcoin/blob/0.17/src/validation.cpp#L339), there could be other protocols in the future that can be gamed by slowing the progression of timestamps on the blockchain.

### Hashpower Time Dragging

Since the earliest valid block time is based upon the median time of the past 11 blocks, an adversarial miner needs to generate a lot of blocks in order to induce any noticeable drag on the MTP.

Let's assume a situation where all miners are roughly in sync via NTP but there is one adversarial miner who is trying to drag the median time of the past 11 blocks as much as possible.

One point is quite clear: it was a smart [decision by Satoshi](https://github.com/bitcoin/bitcoin/blob/4405b78d6059e536c36974088a8ed4d9f0f29898/main.cpp#L1206) to use the median timestamp of the past 11 blocks rather than the average, as average would be more manipulable. Another way to think of "median time past" is that it basically means the timestamp of the 6th most recent block if all of the timestamps are in order. If they aren't, the algorithm just re-orders them. As such, _if you want to have a non-negligible effect on this value_ you need to have solved 6 of the past 11 blocks. In order to sustain such an attack you'd need 55% hashpower, at which point one of the main assumptions of Bitcoin's thermodynamic security breaks down. But a miner with less hashpower _could_ still achieve this on occasion if they have a streak of luck.

How hard is it to find 6 out of 11 blocks? Well, the chance that a given miner will solve the next block is basically the same as their percentage of the total network hashrate. Thus, if you only have 1% of the hashrate (which is still quite a lot) then your chance of minting 6 out of any 11 contiguous blocks = (0.01⁶*0.99⁵)*( 11!/(5!*6!)) = about one in 2 billion. If you maintained 1% of the hashrate then the expected number of blocks that would need to occur before you found 6 out of 11 would be over 43,000 years.*

A more generalized formula for the expected wait time to pull off a successful time drag attack would be:

(1 / (462 * (% hashrate⁶ * (1- % hashrate)⁵))) / 144 blocks/day = # days

![network hashrate](/assets/images/cy19q1/cy19q1m2/lopp-3.png){: .align-center}

As we can see, for attackers to conduct such an attack on any meaningful timescale then they'd need a decent size mining pool with at least 10% of the total network hashrate.

### Maximum Drag

However, in order to induce the **maximum** drag on the MTP a miner would want to solve 6 blocks in a row. If their 6 of the past 11 blocks are not all in order, then time gaps created by other miners would force the adversarial miner to set the timestamps of their blocks more than one second after each other because the MTP for each block would jump forward significantly as honest miners place more accurate timestamps on their blocks.

How hard is it to solve 6 blocks in a row? If we once again assume a miner with 1% of the network hashrate then the chance of minting any given streak of 6 blocks in a row is 0.01⁶ = roughly one in a trillion. If you maintained 1% of the hashrate then the expected number of blocks that would need to occur before you found 6 in a row would be nearly 2 million years.

A more generalized version of the expected time to successful time drag attack formula would be:

(1 / % hashrate⁶ ) / 144 blocks/day = # days

This attack is even more difficult to pull off, requiring more like 20% or 30% of the network hashrate to occur in a reasonable timeframe. As you may imagine, this happens quite rarely and when it does, people notice. The [last times it happened](https://www.reddit.com/r/Bitcoin/comments/276swq/psa_ghash_just_mined_the_last_6_consecutive/) were [in July 2014 by GHash](https://www.reddit.com/r/Bitcoin/comments/1uk690/ghashio_just_mined_6_in_a_row_again_no_big_deal/), which had over 40% of the hashpower for a while and even [touched 51% for a short time](https://arstechnica.com/information-technology/2014/07/bitcoin-pool-ghash-io-commits-to-40-hashrate-limit-after-its-51-breach/). It also [happened 9 months earlier](https://www.reddit.com/r/Bitcoin/comments/1le3rq/btc_guild_mines_six_blocks_in_a_row_again/) when BTC Guild had nearly half of the hashpower. If you have 50% of the hashpower then your chance of minting 6 blocks in a row is 0.5⁶ = one in 64. If you maintained 50% of the hashrate then you could expect to find 6 blocks in a row nearly every 12 hours.

It's clear that it's not possible to sustain a drag on Bitcoin's Median Time Past on a long term time scale without majority hashpower, but you could drag it by as much as several hours for a short period (a block or so) with the right combination of luck and patience. If you assume that other miners are fairly accurate with their timestamps, then the median time past should be approximately 1 hour ago, though it could be several hours more due to the variability in blocks being found. If you manage to mint 6 blocks with timestamps of 1 hour ago plus 1 second, 2 seconds, 3 seconds, etc then at the 6th block the MTP would be approximately 2 hours ago. If we assume an extreme condition of 1 hour gaps between blocks, then the MTP would be 6 hours ago.

By allowing a reasonable amount of flexibility with block timestamps and then taking a median time of recent blocks, we end up with an algorithm that is pretty hard to game but is not so brittle as to adversely affect miners who are somewhat out of sync with the real time.

### Let's Do the Time Warp Again

What if an attacker did have more than 50% of the network hashpower and they wanted to slow the passage of Bitcoin time? They could do some pretty nasty stuff. Such an adversarial miner could prevent the timestamp from advancing by more than 1 second with each new block. If they did this for a long enough period of time and ended up creating blocks on the difficulty retarget intervals with timestamps that made it look like the previous 2016 blocks took far more than 2 weeks to create, they could game [the retargeting logic](https://github.com/bitcoin/bitcoin/blob/v0.17.0/src/pow.cpp#L49) to decrease the mining difficulty by up to 75% every 2016 blocks. Eventually with the difficulty low enough, they could mint as many blocks as they wanted in a given time period and thus receive more mining reward than expected. An optimized time warp attack [could mine all the remaining bitcoin in 18.7 days](https://github.com/bitcoinops/bitcoinops.github.io/pull/113/files#diff-cb2eeb1f3a668d44fe0af3fd03a1a34bR60). We've actually seen similar behavior occur on Bitcoin's testnet3 due to a [quirk in the difficulty retargeting](https://archive.fo/HY1fz) and now testnet3 has minted 1,482,878 blocks in 8 years, about 350% of the expected emission.

Time warp attacks are nothing new. Such an attack was first performed against a coin called "[Geist Geld](https://bitcointalk.org/index.php?topic=42417.0)" in 2011 and it was discussed as being a "[variant of the 51% attack](https://bitcointalk.org/index.php?topic=43692.msg521772#msg521772)" on BitcoinTalk. Geist Geld was intended to test out the upper limits of block generation rate via very short block times, as well as the behavior of a cryptocurrency with (almost) stable generation rate and no upper limit or alteration to supply.

[Whitecoin appears to have also suffered from a time warp attack](https://archive.fo/eRzMV) that was conducted in 2014.

In 2018 [Verge](https://blog.theabacus.io/the-verge-hack-explained-7942f63a3017) was hit by such an attack. And then 6 weeks later [it was hit again](https://blog.theabacus.io/lets-do-the-time-warp-again-the-verge-hack-part-deux-c6396ab36ecb)!

In general, cryptocurrencies that have a minority of hashpower for a given style of hardware (ASICs or GPUs) [are vulnerable to time warp attacks](https://bitsonline.com/top-four-mining-pools-time-warp-bch/) because they are inherently vulnerable to 51% attacks.

Interestingly, while time warping is often referred to as an attack because it results in unintended behavior of the system, some people have shown that it can be exploited for potentially desired uses. In 2015 Vitalik Buterin [described a way to speed up blocks](https://www.reddit.com/r/btc/comments/428tjl/softforking_the_block_time_to_2_min_my_primarily/) via a soft fork and thus increase on-chain capacity. In 2018 Bitcoin developer Mark Friedenbach made a proposal for leveraging this unintended behavior in order to add new functionality to Bitcoin. In his "[Forward Blocks](http://freico.in/forward-blocks-scalingbitcoin-paper.pdf)" proposal, Mark states that his method enables scaling up on-chain transaction volume to 3584X current levels, changing the proof-of-work algorithm in a backwards compatible way, sharding, a rebateable fee market for consensus fee detection, and smoothing out drops in miner subsidy along with prerequisite protocol pieces for confidential transactions, mimblewimble, unlinkable anonymous spends, and sidechains.

Such proposals are contentious, however, and would likely force anyone building systems reliant upon the timestamps in the Bitcoin block headers to look elsewhere for that data. It would also be fairly easy for such a change to be blocked, as Greg Maxwell [stated on the Bitcoin developer mailing list](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-August/016316.html):

```
It can be fixed with a soft-fork that 
further constraints block timestamps, 
and a couple of proposals have been 
floated along these lines.
```

### In Conclusion

Bitcoin's timestamp security and the simple rules constraining the window of acceptable timestamps have withstood 10 years in an adversarial environment despite their known weaknesses. We know that a 51% cabal of miners could wreak havoc on the network, at least for a short time, but this has never happened — likely because the incentives are not aligned for miners to do so. Rational miners would not choose a short term gain in return for killing the long term golden goose.


Thanks to [Jimmy Song](https://medium.com/@jimmysong?source=post_page) and [David A. Harding](https://medium.com/@hrdng?source=post_page).
----

<br>

# [Bitcoin Has a Branding Problem — It's Evolution, Not Revolution](https://medium.com/coinshares/bitcoin-has-a-branding-problem-its-evolution-not-revolution-aa34fe5facfb)
## For technologists and historians, it may well be a revolution; but for everyone else — it's an evolution in personal finance.
### By [Ryan Radloff](https://medium.com/@RyanRadloff)
### Posted March 6, 2019


Before we get started I've broken this post out into two parts to address the point, so please bear with me regarding format.

**Part 1** — I take a look at how our financial lives trend towards convenience (and as a result, dependence on intermediaries); and whether we should expect that to change anytime soon.

**Part 2 —** I look at the larger evolution of assets from physical to 'digital' over the last 35+ years; and where bitcoin fits in that trend.

Both parts are important to illustrate a critical point — for the end user, bitcoin doesn't exist in a vacuum. It exists on a spectrum of evolution for consumers and the best thing we can do to drive adoption is acknowledge this nuance.

![wizard of oz image](/assets/images/cy19q1/cy19q1m2/radloff-1.png){: .align-center}*Langley, N., Garland, J., Morgan, F., LeRoy, M., Ryerson, F., Haley, J., Bolger, R., ... Baum, L. F. (1939). _The wizard of Oz_. Hollywood, Calif.: Metro Goldwyn Mayer.*


## Part 1: Trending Towards Convenience (Dependence)

As an American residing in London, it takes me around two weeks from the moment I walk into a local bank branch to complete the arduous and highly manual process of verification (a.k.a. **K**now **Y**our **C**ustomer) in order to become an account holder.

This system is so inefficient that it has birthed a new array of challenger banks (e.g. Revolut, Monzo and Starling Bank). These banks focus on eliminating the inefficiencies and friction of traditional banking, and claim to put us more in control of our finances than ever before.

This model and mission has driven rapid growth for the aforementioned companies, and altered our notion of what a bank looks and feels like.

Yet at the same time, it's a model and mission which, to borrow from _The Wizard of Oz_, asks us to " _Pay no attention to that man behind the curtain..."_

...and perhaps more than ever before, that is the paradox at play here.
----
## Pay No Attention to That Man Behind the Curtain

While new Fintech banks/platforms provide the illusion of closer proximity to our finances, in many cases these platforms are nothing more than a re-engineered interface for the traditional financial system, with new branding.

For example, Yolt is really just a slick front-end for Dutch multinational bank ING; Wealthify, a brilliant UI owned by Aviva; Zelle — founded by Bank of America, Wells Fargo and JPMorgan Chase — backed by even more banks; and Nutmeg, the mobile choice for investment management, is substantially owned by Goldman Sachs.

Sure, with a few taps I can send £4 I owe you for that latte faster than ever before. But the net result (trade-off) of the rapid digitalisation of the financial system is a requisite increase in specialised financial intermediaries layered on top of each other, built to eliminate the 'friction' points of the legacy world.

And here lies the paradox:

> While we've been hit with slogans like ' _New Money'_as we venture deeper down the path of convenience banking, we're really just interacting with a new facade of the legacy financial system._


With that context, it's easy to understand why people are confused when a truly digital, fully bearer asset enters the picture — ' _New Money'_ incarnate.

We don't initially understand 1) how it's different than what we already have and 2) why we should ever be concerned about what is going on behind the curtain of our new digital banks.

After all... _we're in control of our finances, not them — so who cares?!_
----

To the second point, what most people don't realise is the unfortunate reality that the existing system has 'evolved' into an incredibly complex web of financial intermediaries built on top of and around each other. All meant to distribute risk more evenly (yet rarely do), the actual result is an opaque fiefdom for risky (and unscrupulous) behaviour.

Look no further than some of these headlines from the last few years...

* [HSBC to pay $1.9 billion U.S. fine in money-laundering case](https://www.reuters.com/article/us-hsbc-probe/hsbc-to-pay-1-9-billion-u-s-fine-in-money-laundering-case-idUSBRE8BA05M20121211)
* [Watchdogs impose $3.4B fines in bank forex probe](https://www.cnbc.com/2014/11/12/uk-watchdog-fines-ubs-hsbc-rbs-citi-jpmorgan-17b-after-forex-probe.html)
* [Deutsche Bank settles silver, gold price manipulation suits](https://www.bloomberg.com/news/articles/2016-04-13/deutsche-bank-settles-silver-price-fixing-claims-lawyers-say)
* [Banks face $1bn bill over fees-for-no-service scandal](https://www.theguardian.com/australia-news/2018/aug/17/banks-face-1bn-bill-over-fees-for-no-service-scandal-inquiry-told)
* [JPMorgan to pay more than $135 million for improper handling of American Depositary Receipts (ADRS)](https://www.cnbc.com/2018/12/27/jpmorgan-to-pay-more-than-135-million-for-improper-handling-of-adrs-.html)
* [Wells Fargo is paying $575 million to states to settle fake account claims](https://www.cnn.com/2018/12/28/business/wells-fargo-settlement/index.html)

This isn't even to mention banks' central role in the 2008 financial crisis, the lasting effects of which have been well documented and which no doubt impacted countless families in immense ways — my own included.

As [Elaine Ou opined for Bloomberg](https://www.bloomberg.com/opinion/articles/2019-01-16/bitcoin-and-other-cryptocurrencies-are-open-about-being-at-risk):

> "Financial institutions make people feel safe by hiding risk behind layers of complexity. Crypto brings risk front and centre and brags about it on the internet."


And to the first point regarding how digital assets are different than what we already have... those outside of crypto-land have their PayPal app, their Venmo accounts and can easily send $4 internationally to a friend without using Bank of America or Barclays. **Why do they need anything new, _much less a revolution?_**

> Revolution is a rallying cry for early adopters, and a historians' view on what is actually evolution, in real-time.


Revolutions are inconvenient, messy and disruptive to the status quo, a default which we are unfortunately biased towards.

Revolutions often only happen as an absolute necessity, when 'society' has exhausted all other options and tensions have evolved to a breaking point.

So when outsiders (read: people we would like to eventually opt-in to this new system) hear the "revolution" declaration from bitcoiners, it simply doesn't resonate. Humans are wired to seek confirmation of our own biases and be sceptical of new ideas that challenge or threaten our worldview.
----
## The Evolution Amidst the Revolution

Challenger Fintech banks are winning hearts and minds by capitalising on the weaknesses of bigger, bulkier competitors. Legacy banks are now 'evolving' with their own facades meant to capture those same hearts and minds.

Consumers are loving the evolution toward convenience and 'control.'

I would argue that Bitcoin is simply part of this larger migration away from our parents "brick and mortar" banks toward more nimble, digital financial services.

While Bitcoin is a revolution with respect to approach, infrastructure and (dis)intermediation; to the consumer, it will (and should) feel like it is part of the same evolution that they have been part of all along.

Although Bitcoin does indeed seek to revolutionise the financial industry by separating money and state, "revolution" doesn't need to be the lede.

> From most people's perspective, we've gotten along just fine paying no attention to that 'man behind the curtain.' Why should we expect to change that behaviour en masse all of a sudden?
----

## Part 2: Reframing Bitcoin in the Progression to Digital Finance

In an effort to track the larger progression towards digital finance (an evolution over 35+ years in the making), our research team at CoinShares developed a qualitative approach that plots the dependency of an asset on financial intermediaries against how digital an asset is (as defined below).

As I touched on in the previous section, we witnessed an explosion in the number of financial intermediaries as we've moved towards 'convenience banking'. The truth, however, is that the number of intermediaries has been mushrooming for much longer, coinciding with a shift in preference towards digital proxies for financial assets.

For the purposes of this exercise, we defined "dependency" as an asset's dependence on — or independence from — third-party intermediaries in order to buy, sell, and custody said asset. We've plotted this on the y-axis in the charts below.

On the X-axis, we plotted how "digital" an asset has become. This was measured by tracking the preference to interact with that asset in a non-physical, 'proxied' format (i.e. digital) — whether it be an ETF, option, future, etc. — rather than the underlying asset itself.

For both of these measures, we used quantitive data whenever available, and supplemented with qualitative observations when it was not. In these instances, we identified specific inflection points to warrant movement on the 'dependency' y-axis.

For example, fine wine is generally considered an illiquid asset. In 1982, it was tradable in rare circumstances when a buyer and seller were paired. Yet in 2000, [Liv-ex launched](https://www.liv-ex.com/us/) to bring transparency and efficiency to fine wine trading via an electronic exchange. A few years later, they launched the [Liv-ex 100 Fine Wine Index](https://www.liv-ex.com/news-insights/indices/). Today, there are a number of structured investment vehicles (e.g. the [Vinculum Wine Fund](https://www.vinculumwinefund.com/)) that offer exposure to this asset class — beyond purchasing the wines themselves; but this also introduced new intermediaries to the process.

![CoinShares Independence Analysis](/assets/images/cy19q1/cy19q1m2/radloff-2.png){: .align-center}

Across nearly all asset classes, as transactions shifted to the digital sphere, they required more intermediaries; and as a result, rendered assets 'more dependent.' The exceptions were equities and real estate, which involved a number of intermediaries even before this shift to digital.

As a part of this mini-survey, we also looked at the shift in transaction volumes from physical trades to electronic ones. This became one of our proxies for the digitalisation of assets — the transition of exchange volumes from [open outcry](https://www.youtube.com/watch?v=UoUnvVRYzzA) to electronic trades.

![percent of electronic trading](/assets/images/cy19q1/cy19q1m2/radloff-3.png){: .align-center}*Open Outcry trading versus electronic — CoinShares Research*


In a short amount of time, digitised, electronic trading accounted for more than 50% of all bids placed. By the early 2000s, open-outcry trading was effectively extinct.

This same evolutionary phenomenon is particularly well illustrated by commodity trading, which saw a quick proliferation of interest in synthetic derivatives compared to the previously dominant physical volume. The below graphs show the relative growth in futures markets versus physical volumes for Gold and Oil.

![oil and gold trade charts](/assets/images/cy19q1/cy19q1m2/radloff-4.png){: .align-center}*Please note that while there are many Gold and Oil derivatives, we have used futures as a proxy to represent this digital shift. Had we included the market for Gold ETPs, this shift would be even harder to deny.*


Having plotted dependency and digitalisation on these axes, the changes between years is interesting to track (shown below from 1982–2017):

![1982 and 1987](/assets/images/cy19q1/cy19q1m2/radloff-5.png){: .align-center}
![2007 and 2017](/assets/images/cy19q1/cy19q1m2/radloff-6.png){: .align-center}*Representational Figures. CoinShares Research.*


Throughout each phase of this trend, it seems that one asset leads, or paves the way, and others follow. I expect bitcoin's emergence as a new type of asset, which lives in the top right quadrant, to have a similar effect and pull other assets in this direction as well.

I believe it is likely this will occur within the 'second layer' infrastructure that is being built on top of the bitcoin blockchain. There is already technology being deployed which facilitates 'tokenisation' of real-world assets, in a format compliant with existing regulations — as my business partner [Danny Masters](https://medium.com/@dannylmasters) [has touched on](https://medium.com/coinshares/is-there-anywhere-for-crypto-to-go-from-here-6ba168a73867).

In the meantime, however, this category represents a tiny fraction of global assets, and in any case has clear potential for substantial growth.

### So why does this matter?

Until Bitcoin was introduced, we never had a functional way to operate independently from this web of financial intermediaries in the digital sphere; no way to hedge against financial intermediaries in the same way that we could with our physical offline portfolio (e.g. physical gold, fine art, wine).

Before Bitcoin, digital investments always required a trusted third-party for settlement, clearing, and custody.

**Bitcoin's 'why' is that it removes the _need_ for intermediaries and provides an alternative choice to the system — not simply a spiffy facade.**

That choice is an **_evolution_**of a trend which dates back over 35+ years now.

If we want consumers to consider adoption, we need to start thinking about how this fits in the larger context — bitcoin does not exist in a vacuum.

One of the most important features of Bitcoin is that it gives users the choice to hold a completely digital bearer asset, and manage the keys for themselves to eliminate counter-party risk.

Don't get me wrong — I still expect intermediaries, lots of them in fact.

The business I run on a daily basis acts as an intermediary, offering convenience and a familiar format (ETP) in exchange for control over the underlying assets the product track. Many exchanges offer a similar proposition, acting at least as a temporary custodian for customer funds.

![Image Description](/assets/images/cy19q1/cy19q1m2/radloff-7.png){: .align-center}*The above table is only in regard to bitcoin holdings, not other crypto assets. Please feel free to drop a note in the comments of any products we may have missed. [You can also view our full data and sources here.](https://docs.google.com/spreadsheets/d/1hClHhQlCXXzQY0lAyRZhYmIPW5AUlPWygA8GILsoWRU/edit?usp=sharing)*

A quick scan of the publicly reported bitcoin being held by an entity that is not the ultimate beneficial owner shows that at least 17% of the currently circulating bitcoin supply is likely custodied by a third-party.

![where btc is help](/assets/images/cy19q1/cy19q1m2/radloff-8.png){: .align-center}*Coinshares Research*


Third-parties offer convenience, alleviate the hassle of key management and custody, and can streamline compliance requirements. Third-parties are not inherently good or bad; they simply offer a service to which users have grown accustomed.

But what is different about Bitcoin and this new digital paradigm is that these users finally have a choice. They have an option to utilise the convenience of these intermediaries, and the security trade-offs (risks) are clear.

> In other words, with Bitcoin the risks are right there in front of you, and each individual has the opportunity to choose how much of that risk to take.

This is a huge leap forward in the evolutionary progression of our digital financial lives, especially when we consider the web of complexity and blind trust that consumers are required to place in our current financial system.

Personally, I could not be more excited for what comes next. But I'll conclude by asking a favour...

Right now, too much of Bitcoin's "viva la revolución" mantra feels like this:

<iframe width="560" height="315" src="https://www.youtube.com/embed/w9MiS9tn_r4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

Do us all a favour — help Bitcoin, and please STOP SCREAMING ANARCHY AND REVOLUTION. We might just help the world evolve — and drive bitcoin adoption — in the process...

_Much credit to many members of the CoinShares team for the contributions, edits and comments — getting this right is always a team effort._
----

<br>


# [Privacy and Cryptocurrency, Part I: How Private is Bitcoin?](https://medium.com/human-rights-foundation-hrf/privacy-and-cryptocurrency-part-i-how-private-is-bitcoin-e3a4071f8fff)
### [Eric Wall](https://medium.com/@ercwl)
### March 7, 2019

## Foreword

The [Human Rights Foundation](http://www.hrf.org) cares deeply about protecting our civil liberties and privacy in our increasingly digital age, especially in places where people live under authoritarian governments. Without a free press, without local watchdog organizations, and without effective ways to hold governments accountable, the 4 billion people who live under authoritarianism need our help, and technology is one way we can reach out. As we've seen with the evolution of encrypted messaging, virtual private networks, and free knowledge initiatives like the Tor Project, Wikipedia, and Signal, technology can be a liberation tool, if built with the right values in mind. But as we've seen with centralized platforms ranging from Facebook to WeChat, technology will also be a tool of surveillance and even social engineering.

Unless we take a stand now, and help make platforms and protocols with user privacy and decentralization in mind, mass surveillance and social credit may be the inevitable future. To help elevate this conversation, the [Zcash Foundation](https://www.zfnd.org/about/) has provided generous support for HRF to bring Eric Wall on as a Technology Privacy Fellow. Eric will be working with HRF for the next six months, writing five essays on privacy technology, with a special focus on cryptocurrency and how we can preserve privacy in the financial world. We look forward to sharing Eric's work with you, and seeing it inspire fresh conversations with policymakers, philanthropists, investors, students, and the builders of our current and future technology infrastructure.

— Alex Gladstein
Chief Strategy Officer
Human Rights Foundation
----

## Key points:

* If you're an activist or a journalist, you may wonder how safe it is to use bitcoin to escape the prying eyes of a government or corporation
* Bitcoin is only semi-private; the protocol doesn't know your real name but transactions can still be linked to you in a myriad of ways
* Blockchain analytics firms specialize in deanonymizing bitcoin activity and sell this data to corporations and law enforcement agencies
* A grasp of how the system works and use of tools such as Tor, coin control, CoinJoin transactions and avoiding address reuse can make a crucial difference in protecting your identity and transactions from being unmasked
* This article aims to give the reader a primer on Bitcoin privacy — later articles in the series will look at different wallets, compare different cryptocurrencies and survey exchange platforms in regions with restricted economic and political freedom

## Why cryptocurrencies?

It's clear from the onset when observing cryptocurrencies at a protocol level that they are inherently more privacy-oriented than traditional digital payment systems. At the base layer of these protocols, there is typically no mapping between users' cryptographic key pairs and their real-world identities, yet they allow us to store and transfer wealth across the globe with an unprecedented degree of freedom.

The intention of the Human Rights Foundation is to examine these technologies and elucidate on their potential of bringing economic and political freedom to the individual. While there are many angles in the context of money that are within the scope of such an endeavor, we've chosen to focus on the topic of privacy foremost. In that pursuit it's also clear that the degree to which cryptocurrencies enable privacy is not by any means trivial or binary — it varies greatly depending on the user's particular choice of core and ancillary technologies and usage patterns, as well as the capabilities and sophistication of the attacker.

Regardless of that, we can observe that the adoption rate of cryptocurrencies — in particular, bitcoin — is increasing in countries where the economic freedom of the population is limited. While the liberating and democratic aspects of cryptocurrencies are apparent, especially the extent to which they enable censorship-resistant transaction networks and monetary policies impervious to various forms of government sabotage, none of these benefits are particularly helpful as long as authoritarian regimes can deanonymize and prosecute the users of these currencies at will.

![LocalBitcoins Volume](/assets/images/cy19q1/cy19q1m3/wall-1.png){: .align-center}*Many thanks to Matt Ahlborg for lending us this visualization from his great piece "[Nuanced Analysis of LocalBitcoins Data Suggests Bitcoin is Working as Satoshi Intended](https://medium.com/@mattahlborg/nuanced-analysis-of-localbitcoins-data-suggests-bitcoin-is-working-as-satoshi-intended-d8b04d3ac7b2) " which explains the exact methods used to generate it.*


The ambition of this initiative is to cut through the complexity of the cryptocurrency privacy subject by sourcing subject matter expertise from the industry. When we approach this subject, we recognize that we enter into a complex field, and as in any complex field, experts disagree. We will strive to strip this initiative from personal biases and condense opinions and research into simple practical guidelines.

The product of this research will be an article series of which this is the first piece.

## A primer on Bitcoin privacy

Bitcoin is neither completely anonymous nor completely transparent. The Bitcoin privacy conundrum exists in a grey area where the unmasking of a user's financial activity ultimately depends on the capabilities of the adversary and the sophistication of the user and their choice of tools. There is no perfect privacy solution for any activity on the Internet, and in many cases, privacy-conscious choices come with tradeoffs to both cost and ease-of-use where no one-size-fits-all solution exists. Moreover, privacy is never a static thing but evolves continuously and in response to the battle between those who build tools to protect privacy and those who build tools to destroy it.

The Bitcoin protocol itself evolves over time, which can lead to dramatic changes in its privacy properties. Changes to the core protocol are seldom simple choices between privacy and transparency alone, but more often come packed with changes to the security, scalability, and backward-compatibility of the software as well. Historically, the trend and ethos within the Bitcoin community has always favored privacy over transparency, but more conservatively so compared to other cryptocurrencies where privacy is the primary focus.

As a result, activists or journalists who are considering using bitcoin to escape the prying eyes of an authoritarian government or a corporation need to understand what type of traces they leave when they're using it and whether the privacy nature of bitcoin is sufficient for their needs. However, achieving this understanding requires some amount of effort.

### Tracing transactions

When you transact on the Bitcoin network you leave two types of traces. These can be categorized into "what's on the blockchain" and "what's not on the blockchain". The information that is on the blockchain reveals no direct link between your identity and your transactions, but it does reveal information that can link your transactions to each other. What _does_ link your identity to your transactions are the things in the second category: "what's not on the blockchain".

### What's not on the blockchain

When you transact on the Bitcoin network, you are sometimes sending or receiving money to/from some entity that knows who you are. That entity will then have outside-of-the-blockchain-knowledge that links your identity to a transaction.

When you combine this fact with the other fact that your transactions can be linked to each other, the result is that motivated entities can sometimes figure out how you're using your bitcoins, how much you have and who you've been transacting with.

There are also countless ways you could be linked to a transaction even _without_ having transacted with an entity that knows who you are, since Bitcoin transactions are typically sent in unencrypted packets over the Internet and the source IP address can be pinpointed through various means. Bitcoin transactions sent via [full nodes](https://en.bitcoin.it/wiki/Full_node) such as Bitcoin Core require some triangulation or targeted traffic sniffing in order for the source IP address to be estimated, whereas other "light" wallets such as mobile wallets (Mycelium, Blockchain Wallet, Coinbase Wallet) will often broadcast transactions through company-run servers that can see your IP address directly and your full transaction history. The same is true for most hardware wallets (Ledger, Trezor) in their out-of-the-box setups.

Geolocation IP databases can often roughly approximate your physical location using your IP address. You can test it out yourself using this [link](https://www.maxmind.com/en/locate-my-ip-address), then enter the coordinates you get into an interface like Google Maps. More importantly, your IP address reveals your Internet Service Provider (ISP), which in turn knows the real-world identity of the owner of your IP address and often has a legal obligation to store this information for several months.

Even if you are using a public WiFi network to transmit your transactions, you could still accidentally associate your real identity with that IP address from the websites you visit and the background services your device connects to. Your Dropbox application will gladly connect to Dropbox's company servers when you start your laptop which will associate that IP address with your Dropbox account in Dropbox's server logs. The same thing will happen when you browse to a personal account on any website. Even if you don't visit any personal web accounts, cookies stored on your laptop can reveal who you are to the website you browse to through your cookie's association to your previous browsing history. Many websites allow third parties to track users like this for analytics purposes — Google alone is estimated to track users across 80% of the sites of the entire web.

Even if you clear your cookies, website operators can track you across their different sites as long as your [browser fingerprint is unique](https://panopticlick.eff.org/) and associate your IP address to your identity that way. And even if you have no services running and avoid browsing altogether, your device's [MAC address](https://en.wikipedia.org/wiki/MAC_address#cite_note-cunche-grehack2013-23) could get exposed to the network provider which could be [linked to your identity using sophisticated methods](https://hal.inria.fr/file/index/docid/858324/filename/Wi-Fi_Stalking.pdf). So, even if your IP address doesn't lead back to you via an ISP record, you might still leave other traces that do when you're using your personal devices.

The worst category for privacy is of course when using third-party services that implement know your customer (KYC) practices as your Bitcoin wallet, as these services will keep logs of all your transactions and your real-world identity.

You could also be linked to a Bitcoin address or transaction just by searching for it using web-based tools since there usually aren't that many people other than you who are going to be looking up your transactions on the web for no good reason. Keep this in mind as we move to the next segment. Other data that isn't on the blockchain but can easily be logged about your transaction is the approximate time it was broadcast to the network.

The current known best method to hide your source device and IP address when retrieving information about transactions or when transmitting transactions is to leverage Tor hidden services. Many wallets including Bitcoin Core will provide this as a [configurable option](https://github.com/bitcoin/bitcoin/blob/master/doc/tor.md#tor-support-in-bitcoin) while others have it built-in. The [Tor browser](https://www.torproject.org/projects/torbrowser.html.en) can similarly be a useful tool for your web-based Bitcoin-related activity as it, in addition to hiding your IP address, clears cookies upon each exit, prevents third-party cookies and is immune to most browser fingerprinting techniques.

### What's on the blockchain

A simple way to begin understanding what type of information is revealed by the Bitcoin blockchain is to use a block explorer. For this exercise, we'll use the open-source explorer [blockstream.info](https://blockstream.info/).

![blockchain explorer](/assets/images/cy19q1/cy19q1m3/wall-2.png){: .align-center}

The most recent block at the time of writing (#563899) in the Bitcoin blockchain contains 2122 transactions. Let's look at what a randomly chosen transaction reveals.

![transaction details](/assets/images/cy19q1/cy19q1m3/wall-3.png){: .align-center}

Transactions contain inputs and outputs and are identified by transaction IDs (seen at the top in the image above). If your Bitcoin wallet has sent a transaction, each transaction will be associated with one such identifier.

From a high-level view, what is revealed about this transaction is the following:

* The approximate time the transaction was mined (from the block header)
* The addresses bitcoins were sent to and the amounts sent (i.e. the "transaction outputs")
* The source of the funds for the transaction (i.e. the inputs)

Let's look at each of these items individually for the transaction shown above, 
[e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8](https://blockstream.info/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8)

### Time

Transactions are not timestamped, but blocks are. Block timestamps are not necessarily precisely accurate, but assuming a majority of miners are reporting time honestly, all blocks are bound to be reasonably accurate within a few hours range. For the blocks mined by the honest miners, they'll be precisely accurate. This doesn't mean that the block timestamp is necessarily accurate within a few hours range to _its transactions' broadcast times_ however, since it can sometimes take a lot longer for a transaction to be included in a block. Some block explorers complement data this by displaying the time they first saw a transaction on the network to give a more accurate view of transactions' broadcast times.

The approximate time when the transaction above was included in a block can be derived by looking at the block header (in our case it's block #563899 with the timestamp 2019–02–20, 14:45 UTC).

### The addresses bitcoins were sent to and the amounts sent

The receiving addresses in this transaction are:

```
1: 32Z63LVtUERdEEwz275JHt3o4cewPfE8YC 0.26119849 BTC
2: 31w3iWUN5EMJMW2YRCc5m4RFqm3zN61xK2 0.2214705 BTC
```

There is more to an address than what meets the eye. It's easy to think of Bitcoin addresses as "hard-to-read email addresses but for bitcoins", but an address isn't always a simple pointer to a certain user's cryptographic key-pair. What addresses are in reality, are cryptographic descriptors of the _spending rules_ for the next time someone wants to move those bitcoins.

For example, if you send bitcoins to:

```
37k7toV1Nv4DfmQbmZ8KuZDQCYK9x5KpzP
```

the configuration of this address is such that you're not sending bitcoins to an owner of a particular private key, but rather to a spending rule that releases the coins to [anyone who can provide two different strings that have the same SHA-1 hash](https://bitcointalk.org/index.php?topic=293382.0) (this would mean that the SHA-1 hash function is broken, which it was in 2017— so don't send anything to that address!). What's good to note is that since many address formats used today are [hashed](https://en.bitcoinwiki.org/wiki/Hash) when we send bitcoins to them, we t ypically can't tell what those spending rules are until someone spends bitcoin from that address, as they need to reveal what was hashed in order to do so.

In our example transaction, the blockchain reveals that bitcoins have been spent from both addresses, so the spending rules for those addresses are known. 

```
32Z63LVtUERdEEwz275JHt3o4cewPfE8YC
```

 was revealed to be a 2-of-2 [multisignature](https://en.bitcoin.it/wiki/Multisignature) address when it was spent from in the transaction 

```
f491dfe9867c36e85950116a90a6128060d6070866ad0f3598d70d146750162f
```


We'll look at exactly how that information is revealed in the next section.

Similarly, it was revealed of 
```
[31w3iWUN5EMJMW2YRCc5m4RFqm3zN61xK2](https://blockstream.info/address/31w3iWUN5EMJMW2YRCc5m4RFqm3zN61xK2) 
```

that it is a frequently used 2-of-3 multisignature address and at the time of writing holds roughly 2,700 bitcoin (US$10.6m). More advanced blockchain tools such as [oxt.me](https://oxt.me/) will even plot the wallet balance over time and display with approximate accuracy which hours of the day it has seen the most activity.

![balance](/assets/images/cy19q1/cy19q1m3/wall-6.png){: .align-center}
![incoming tx](/assets/images/cy19q1/cy19q1m3/wall-7.png){: .align-center}*Historical balance and activity relating to the address [31w3iWUN5EMJMW2YRCc5m4RFqm3zN61xK2](https://blockstream.info/address/31w3iWUN5EMJMW2YRCc5m4RFqm3zN61xK2) ([oxt.me](https://oxt.me)).*



Seeing as 18:00-22:00 UTC are the hours with the least activity for this address, it wouldn't be unreasonable to assume that these hours represent the night-times 01:00-05:00 or 02:00-06:00 in the region where the address is controlled. Given the hours of activity, the volumes and the multisignature setup of this address, one could guess that this address belongs to a cryptocurrency exchange in the GMT+7/8 time zones.

![time zones](/assets/images/cy19q1/cy19q1m3/wall-8.png){: .align-center}

It's considered good privacy hygiene to never reuse a Bitcoin address because it helps to break transaction linkage. That's also a good idea for all users of [P2SH](https://en.bitcoin.it/wiki/Pay_to_script_hash) addresses (all addresses starting with a "3" and 62-character addresses starting with "bc") because by the time you reveal what the spending rules are for that address, you've already sent the bitcoins to a new, hashed address for which the spending rules are yet unknown.

Wallets known as [HD wallets](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki) can generate many addresses but only require a single back-up seed in order to access the funds. These wallets will also automatically generate a fresh address for you every time you've received a transaction.

Now let's look at the transaction again to see what else we can reveal about the sent coins.

![example tx](/assets/images/cy19q1/cy19q1m3/wall-9.png){: .align-center}

Bitcoin transactions are regularly directed towards _two_ addresses where one of the transaction outputs is the actual payment and the other is what is known as a "change output" going back to the sender. It's similar to when you pay for a $3 item with a $5 bill, it creates two payments; one of $3 to the merchant and one with the change of $2 going back to the one paying.

Identifying a transaction output as a change output requires the use of [_heuristics_](https://en.wikipedia.org/wiki/Heuristic_%28computer_science%29) .Examples of heuristics that can be used to discern a change output from the other payment are; the usage of round numbers (in the bitcoin amount or in the fiat currency value of the amount at the time of the transaction), the order of the outputs in the transaction body and so on. In our chosen transaction, it's easy to detect the change output because it's going back to the same address that was used to receive the bitcoins that were spent, as we'll see below.

In principle, Bitcoin wallets behave somewhat differently from each other and leave different traces on the blockchain — similar to how browsers reveal pieces of information about themselves when they browse the web. Because of this, it is sometimes possible to identify certain transactions as originating from a certain kind of Bitcoin wallet application.

If your adversary knows which wallet application you're using then that knowledge can contribute to mapping your identity to one of your transactions, which would weaken your privacy. Every little piece of information helps an adversary paint a picture of who you are and what you are doing.

### The source of funds for the transaction

In Bitcoin transactions, the "source of funds" is always other "unspent" transactions, or to be precise, unspent transaction outputs (known as UTXOs). It's good to keep in mind that what is seen in a block explorer is a combination of decoded raw blockchain data and _derived_ data. One block explorer might choose to display the transaction like this:
![example tx](/assets/images/cy19q1/cy19q1m3/wall-10.png){: .align-center}*From [blockchain.com](https://www.blockchain.com/btc/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8).*

Here the "source of funds" is displayed as an address. Blockstream's explorer chooses to display it like this, where the source of funds is displayed as a transaction:

![example tx](/assets/images/cy19q1/cy19q1m3/wall-11.png){: .align-center}

The reason why Blockstream's explorer doesn't show an address as the source of funds is that addresses aren't technically a part of the inputs to a transaction and it isn't always possible to infer the notion of an originating address ([example](https://www.blockchain.com/btc/tx/54fabd73f1d20c980a0686bf0035078e07f69c58437e4d586fb29aa0bee9814f)). Moreover, since address reuse is discouraged, it's good to break inherited mental models from traditional payment systems and not further cement the idea that money could or should be sent back to the recipient at the same address by showing addresses as senders.

Let's get more technical for a moment and look at the decoded raw data of the transaction, which you can fetch from your own local copy of the Bitcoin blockchain if you run a [full node](https://bitcoin.org/en/full-node#what-is-a-full-node) ([or by using a trusted web-based interface](http://chainquery.com/bitcoin-api/getrawtransaction/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8/1)). Here's what it looks like:

![example tx](/assets/images/cy19q1/cy19q1m3/wall-12.png){: .align-center}*[e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8](https://blockstream.info/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8) decoded (manually trimmed).*


The source of funds is described by the `vin`-array. It doesn't refer to an address specifically. Instead, it refers to the output of a previous transaction;
```
593e2d5c65b3505d897a13033741037d6c59e683b3345314a58253a8f1572758
```
, where `vout: 0` refers to that transaction's _first_ output (`vout: 1` would mean its second output, and so on). This unspent transaction output (UTXO) is the _source of funds_.

To clarify what this means, the source of funds for a transaction is not an address, nor is it a transaction. The source of funds is a specific _output_ of a specific previous transaction. Knowing this will help you protect your privacy when using bitcoin, as we'll see in later sections.


![example tx](/assets/images/cy19q1/cy19q1m3/wall-13.png){: .align-center}*The source of funds for [e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8](https://blockstream.info/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8).*


We can further decode parts of this transaction from the decoded raw data such as what's in `txinwitness` to find out more about the source of funds. The last hexadecimal string in `txinwitness` reveals the 2-of-3 multisiginature script, which allowed us to deduce that it's likely to be an exchange wallet.

![example tx](/assets/images/cy19q1/cy19q1m3/wall-14.png){: .align-center}

The two other hexadecimal strings we saw in the txinwitness are just the signatures fulfilling this 2-of-3 multisignature condition.

Now that we've identified the source of funds, we can see in this example that it's a 0.48298999 bitcoin output (~US$1850), even though the sent payment was just one of ~US$1000. This has an undesirable consequence: imagine a situation in which a friend pays you $10 but the transaction reveals that he's the owner of a million dollars and has immediate access to send the full amount— obviously not very good for privacy. If you are worried about disclosing information about your bitcoin wealth when you are sending a payment to someone, you need to be aware of which inputs are used in your transactions (more on this below).

### Combining the knowledge

Because transactions always need to provide the source of funds, transactions become linked together, producing what's known as a transaction graph. If you pay a friend in bitcoin, not only will your friend see the inputs you used in the transaction, but you will also be able to see when your friend spends those coins and to which addresses the coins are sent.

Some addresses are known in the Bitcoin space, such as the [Bitfinex cold wallet](https://bitinfocharts.com/bitcoin/wallet/Bitfinex-coldwallet) or the [seized Silk Road coins](https://www.blockchain.com/btc/address/1F1tAaz5x1HUXrCNLbtMDqcw6o5GNn4xqX?offset=100&filter=6). An address can become known because an entity — for example, a business or a charity — advertently exposes their deposit or donation addresses on their website, or inadvertently because a forum post or a law enforcement record publicly reveals the connection. Blockchain analytics firms will scrape the web regularly to find such information.

Other addresses become exposed via association through a technique called clustering.

### Clustering

Let's go back to our example transaction from the previous examples, <a class="markup--anchor markup--p-anchor" href="http://e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8" target="_blank" rel="noopener nofollow" data-href="http://e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8">e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8</a>. Here, we can immediately see that both the source of funds of our transaction and our transaction (red dots) have been used to jointly fund a third transaction (big blue dot).

![example tx](/assets/images/cy19q1/cy19q1m3/wall-15.png){: .align-center}*Transaction graph for [e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8](https://blockstream.info/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8) ([oxt.me](https://oxt.me)).*

Particularly, it's the [second output of the funding transaction](https://blockstream.info/tx/593e2d5c65b3505d897a13033741037d6c59e683b3345314a58253a8f1572758?output:1) and the [first output of our transaction](https://blockstream.info/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8?output:0) that are involved in funding this transaction. They were previously sent to the addresses:

```
3Qt1YaJwQwtHMb4mjJ41DZVawWXih9LGMq
32Z63LVtUERdEEwz275JHt3o4cewPfE8YC
```

On the surface, these appear to be two separate addresses with just one innocuous-looking incoming and outgoing transaction each. But because their private keys have both been used to sign the big blue dot transaction, these addresses now all belong to the same _cluster_ (along with 407 other addresses involved in the inputs to the transaction), which we can make assumptions about having the same owner. This heuristic has gone under a couple of different names in the past, the most recent one being the [common-input-ownership-heuristic](https://en.bitcoin.it/wiki/Common-input-ownership_heuristic).

![example tx](/assets/images/cy19q1/cy19q1m3/wall-16.png){: .align-center}*Transaction graph for "the big blue dot" transaction [f491dfe9867c36e85950116a90a6128060d6070866ad0f3598d70d146750162f](https://blockstream.info/tx/f491dfe9867c36e85950116a90a6128060d6070866ad0f3598d70d146750162f) ([oxt.me](https://oxt.me)).*

Blockchain analytics firms will use such heuristics to create giant clusters. The blockchain explorer WalletExplorer has pinned the two addresses to belong to a cluster of [162787 addresses](https://www.walletexplorer.com/wallet/00002fde87ebea18/addresses) in total. Analytics firms label such clusters with all identities (IP addresses, user accounts, organizations, real names) they're able to pin to the cluster in order to map out the Bitcoin transaction ecosystem. They then sell access to these data sets to law enforcement agencies and other companies.

Many blockchain analytics firms receive information about transactions directly from their own customers, such as cryptocurrency exchanges. However, two of the largest analytics firms, Chainalysis and Elliptic, have stated that they do not trace back transactions to specific individuals in the data they receive, but only to the exchanges or other business entities ([1](https://www.elliptic.co/our-thinking/elliptic-financial-privacy), [2](https://twitter.com/twobitidiot/status/1102685671750275072)).

It only takes the deanonymization of one address in a cluster to deanonymize an entire cluster.

### Breaking the heuristics

We've seen now that there are a multitude of ways your identity can be linked to a certain Bitcoin address or transaction and yet another multitude of ways your Bitcoin transactions can be linked to each other. When put together, these information leaks in combination can unmask our entire financial privacy.

Some Bitcoin users intentionally try to make this kind of analysis difficult by using tools and techniques to break the heuristics analytics companies employ. Some techniques decrease the effectiveness of the heuristics through distortive methods while others attempt to avoid the heuristics altogether. Bitcoin wallets can assist users by automating some of these techniques or make them available through a user interface.

Here's a non-exhaustive list of some examples:

* Randomizing the order of outputs when creating transactions to decrease change output detection accuracy ([example](https://bitcointalk.org/index.php?topic=128042.msg1361893#msg1361893)).
* Avoiding address reuse via [HD wallets](https://bitcoin.org/en/glossary/hd-protocol).
* A [PayNym](https://paynym.is/)is a publicly sharable ID which allows you to receive payments at different unassociated addresses you control that only become known to you and the sender. The PayNym allows a new address to be derived for each payment without you having to manually present a new address each time, which is great if you want to conveniently receive, say, donations online using bitcoin.
* Coin selection/coin control — wallets can be designed to prioritize clustering fewer addresses together when possible by selecting inputs for transactions more carefully ([example](https://bitcoinmagazine.com/articles/bitcoin-core-0170-released-heres-whats-new/)), or allow users to select inputs for transactions manually to avoid revealing ownership of certain coins ([example](https://bitcoin.org/en/bitcoin-core/features/user-interface#coin-control)).

![example tx](/assets/images/cy19q1/cy19q1m3/wall-17.png){: .align-center}*Coin control in Bitcoin Core — user can manually choose the source of funds for a transaction.*

A more advanced example of a privacy-enhancement technique is **CoinJoin**transactions. CoinJoins are a scheme which adds many inputs from many different users into a joint transaction before the transaction is broadcast.

In our example, we saw how the input of a transaction always references a _specific_ output of a previous transaction, rather than the whole transaction:

![ex tx](/assets/images/cy19q1/cy19q1m3/wall-18.png){: .align-center}*The source of funds for [e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8](https://blockstream.info/tx/e70c2ed31c05fbf2865a15a696a7ca0cb8f3afef92c34f4e41051dc2356827c8).*

But the inputs and the outputs _within_ each individual transaction don't reference each other in any way; transactions are valid as long as there's enough bitcoin in the inputs to cover all the outputs.

![ex tx](/assets/images/cy19q1/cy19q1m3/wall-19.png){: .align-center}*A CoinJoin transaction ([72046c65fa25724f11c91f35799f69b66072bc07b2b4e3fc363852c2506b2b90](https://blockstream.info/tx/72046c65fa25724f11c91f35799f69b66072bc07b2b4e3fc363852c2506b2b90)) created by the [Wasabi Wallet](https://wasabiwallet.io/).*

Here, the outputs are chopped up into many equal-amount chunks, so you can't be sure which input funds which payment. The result is that a payment can have a plethora of possible "source of funds" indiscernible from one another, as well as a plethora of possible destinations. This technically doesn't _hide_ the source of funds or the destination, but it mixes it so that it becomes difficult to prove what actually funded a particular payment and who's bitcoins went where.

What's also interesting about these kinds of transactions is that they complicate the idea of the common-input-ownership-heuristic. These inputs would all get flagged as belonging to the same owner, which in this transaction they aren't. The images below show false clusters of independent payments as a result of CoinJoin transactions.

![coin join tx](/assets/images/cy19q1/cy19q1m3/su-1.png){: .align-center}*CoinJoin transactions created by the [Wasabi Wallet](https://wasabiwallet.io/). Transaction IDs from left to right: [72046c65fa25724f11c91f35799f69b66072bc07b2b4e3fc363852c2506b2b90](https://blockstream.info/tx/72046c65fa25724f11c91f35799f69b66072bc07b2b4e3fc363852c2506b2b90), [d7a428a8e3d69f236519cb999dbcb47b3b283548875371da567259be806e35ea](https://blockstream.info/tx/d7a428a8e3d69f236519cb999dbcb47b3b283548875371da567259be806e35ea), [20cf4fa2f685167f46682dd30c7720a06618656939fadbd1f20e3d471d08dfbb](https://blockstream.info/tx/20cf4fa2f685167f46682dd30c7720a06618656939fadbd1f20e3d471d08dfbb) ([oxt.me](https://oxt.me)).*

But because these transactions all have the odd look of equal-amount outputs, they're rather easy to spot and can be eliminated from the clustering analytics tools. Equal-amount CoinJoin transactions are best understood as _mixers_ to be used when one wishes to obfuscate the source of funds for a payment and the destination to which a payment is sent.

However, the same principle is used to create transactions that are indistinguishable from normal transactions in a recent invention called a **PayJoin** or **Pay-to-EndPoint (P2EP)**. This emerging transaction type mixes inputs from the payer and the recipient and pays the recipient by shifting over the payment amount from the sender's output and to the recipient's output during a real payment for something.

![u tx](/assets/images/cy19q1/cy19q1m3/wall-21.png){: .align-center}*A PayJoin transaction template where the sender pays 0.5 bitcoin to the recipient, mixing inputs with each other in the process.*

This transaction doesn't do a lot of mixing — but it does trigger the common-input-ownership heuristic erroneously. More importantly, it triggers the heuristic without leaving any clues for the analytics firms to _not_ cluster the inputs together, which they would need to in order to avoid giving false positives. If the usage of PayJoins becomes widespread, the portion of false common-input-ownership positives could become so great that the heuristic itself becomes unreliable, which would be a massive setback for the blockchain analytics tools.

### The Lightning Network

The Lightning Network is a beta technology that is being developed on top of the Bitcoin protocol to facilitate low-cost, instant payments. The Lightning Network is accessible to users of [Lightning wallets](https://lightningnetworkstores.com/wallets). Lightning transactions differ from base-layer transactions in many ways which make them advantageous from a privacy perspective:

* Lightning transactions are not stored on a public ledger.
* Lightning transactions use [onion routing](https://en.wikipedia.org/wiki/Onion_routing) which doesn't disclose who the final recipient is to the rest of the network.
* Lightning transactions don't mix inputs and can't be clustered together.

The Lightning Network is a system of channels which require liquidity; the current set of merchants and users that accept Lightning payments today are a small subset of the total set of Bitcoin users in the system, and not all payments (especially larger ones) can propagate through the channel system, although that is expected to improve over time. This also means that while Lightning can provide improved privacy for the transactions in its channel system, those channels still need to be funded by regular Bitcoin transactions, which are subject to the privacy concerns in this post.

Another problem is that unlike base-layer Bitcoin payment recipients, recipients of Lightning payments are required to have a Lightning node running. Your node communicates with other Lightning nodes using TCP/IP. Whenever your node interacts with the network (sending, receiving or routing other payments) someone will learn about the existence of your node, its public key and its IP address. From your public key, it's trivial to find out which channels are open between you and other nodes, and how many bitcoins you each have committed to those channels upon opening them. For private channels, the IP address is only revealed to the ones you have an open channel with, but for public channels, it's revealed to the entire network and it's even possible for someone to probe the channels' current balances to figure out if you're a target worth attacking.

When you run a Lightning node, you should assume that your channel balances are known and that they can be linked to your IP address. For this reason, running your Lightning node over Tor is a good option to protect your privacy.

The Lightning Network is currently under quite rapid development and many of its properties might be subject to change in the near future.

### Protocol changes

There are several privacy-enhancing technologies that are in development for the base-layer Bitcoin protocol. Here are a few examples:

* Schnorr signatures — a signature scheme which, among other improvements, makes multisignature addresses indistinguishable from single-signature addresses
* Scriptless scripts — a method by which to use scripts without disclosing the actual spending rules
* Taproot — a technique with the potential of making transactions of all types of spending rules indistinguishable from each other

### Conclusion

This article aims to give a primer to how privacy works in Bitcoin. The pseudonymous but transparent nature of the Bitcoin blockchain creates an environment where the privacy of the system ultimately hinges on the tools employed by the user and the spying entity. Users who take few precautions for protecting their privacy will most likely leak enough financial information in order for it to be dangerous, assuming that the spying entity is analyzing the blockchain.

The next step is to get acquainted with how different Bitcoin wallet applications can help with privacy, and what to expect when using them. This will be covered in the next article in this series. In later articles, we will look at different cryptocurrencies and survey available exchange platforms in regions with restricted economic and political freedom.

### Further reading

To completely understand what is going on under the hood of Bitcoin, [Andreas Antonopoulos' Mastering Bitcoin](https://github.com/bitcoinbook/bitcoinbook) is an excellent resource [which is translated into several languages](https://bitcoinbook.info/translations-of-mastering-bitcoin/).

More specifically, the [Privacy page on the Bitcoin Wiki](https://en.bitcoin.it/wiki/Privacy) goes into much more depth on several of these topics and was very recently updated by Chris Belcher. The [Blockstream block explorer](https://blockstream.info/) was also patched recently to show "privacy ratings" for transactions and is now a good resource to learn more about what conclusions can be derived from transactions' information.

_Special thanks to Adam Gibson, Tomislav Dugandzic and Simon Bohlin for their thoughts and feedback to this article._

_The essays in this series will form the basis for a report to be published by Coin Center, the leading cryptocurrency policy research and advocacy group based in Washington, DC._

_The Zcash Foundation contributed funding for the project. The Zcash Foundation exists to build and support tools that enable privacy and autonomy, particularly with respect to people's transactions and financial information. Privacy is important for numerous reasons — personal, medical, political, and more. For this reason, Zcash pioneers the use of zk-SNARKs, a novel form of zero-knowledge cryptography with strong privacy guarantees. Ultimately, the Zcash Foundation's impact will come from serving the needs and workflows of real people, including those from many backgrounds and locations._

_The views and opinions expressed by Eric Wall does not necessarily reflect the views of his employer or any affiliated entity._
----

<br>

# [Bitcoin Is a Cult, Fiat Is a Religion](https://medium.com/@kaykurokawa/bitcoin-is-a-cult-fiat-is-a-religion-b8292949007a)
### [Kay Kurokawa](https://medium.com/@kaykurokawa)
### Posted March 20, 2019

![saint and demon](/assets/images/cy19q1/cy19q1m3/ray-1.png){: .align-center}

Frances Coppola, a long time critic of Bitcoin, declared that "[Bitcoin is a Cult](https://twitter.com/Frances_Coppola/status/1102408593473720321)", which predictably stirred a lot of shit posting and ruffled feathers. Many Bitcoin'ers were offended by this declaration, resulting in name calling and ad hominem attacks, which ironically proved Coppola's points. Bitcoin is a cult, and no cultists likes to be pointed out as a cultist. She is not the first to point out this fact, [others](https://finance.yahoo.com/news/former-paypal-ceo-brands-bitcoin-164329390.html) [have said](https://adamcaudill.com/2018/06/21/bitcoin-is-a-cult/) [the same](https://thebaffler.com/salvos/zealots-of-the-blockchain-golumbia) thing.

The cult label can be seen as a pejorative but I will attempt to explain here how it is a perfectly reasonable and necessary description of Bitcoin. A cult is just a religion with limited membership status and social acceptance. Musician Frank Zappa cleverly stated that "the only difference between a religion and a cult is the amount of real estate they own". So if Bitcoin is a cult, fiat money is a religion.

![in god we trust](/assets/images/cy19q1/cy19q1m3/ray-2.png){: .align-center}

To demonstrate this point, I created the above meme which people really seemed to like. I believe this meme was popular because people are subconsciously aware of the religious nature of money. The fact that American paper money contains the phrase "In God We Trust" in capital letters is a confirmation of their awareness. It is only through faith that a piece of paper turns into some thing of value. In the modern age, it is a faith so firm and unshakable that it makes Jesus look like a second rate deity.

Once ideological faith has taken complete hold of an individual, the individual is no longer aware that he believes. A true believer does not see his ideology as an ideology, and divine facts are just facts. They do not practice religion, they practice the truth. Or as Marx would say of someone who is under the spell of a powerful ideology: "[They do not know it. But they are doing it.](http://www.autodidactproject.org/other/cynzizek.html)" (he is talking here about the ideology of capitalism). It is through this ideological lens that people are able to declare Bitcoin as a cult. It is akin to a Catholic declaring Mormonism a cult. Such ignorance can only be achieved when you have been ideologically compromised to accept your own ideology as the plain truth. Bitcoin cultists also suffer from the same syndrome when they reject the cult status of Bitcoin, while at the same time participating in carnivore dinners, and engaging in emotionally charged social media attacks against heretics.

Readers may be skeptical of the intrinsic connection between money and faith. When we pay our electricity bill or buy some food at the grocery store, we do not feel any special connection to the divine, nor do we feel that we are practicing some religious activity. But yet, the foundations of our economic lives are directed by an object which only exists in the mind. Even though fiat money is just a piece of paper, or digits on a bank's computer, we devote our daily lives in pursuit of it. We do not know it, but we are doing it. We place an enormous amount of faith in our money, without knowing it.

Philip Goodchild writes in _Theology of Money_, that "All religion, in essence, direct and distribute time, attention, and devotion. Religions enrich life by establishing patterns for living." Does money not have the same effect ? Is money not the method in which our modern capitalist society direct and distribute time, attention, and devotion? If this is indeed the purpose of money, than the question of what money should be is inherently a moral, ethical, and political question. The answer to such a question cannot be monopolized by economists masquerading as scientists, for the answer we seek is not scientific in nature. We are not measuring the effects of physical phenomenons or proving a mathematical theorem. We are not mere automatons in a system designed to optimize GDP, employment numbers, and trade surplus.

If we define money as the method in which society direct and distribute time, attention, and devotion, than that means any attempts to redefine money is inherently a political activity rooted in an ideology of how society should be structured. Given how radically opposed Bitcoin is from the prevailing modern fiat system, there is no way for Bitcoin to succeed without true believers. True believers will be at the front lines in a fight against the inquisitors of the fiat system, who will do everything they can to to keep their money printable and censorable. These two properties of the fiat system are the cornerstones of the modern capitalist society. By presenting an alternative, Bitcoin is not only challenging a prevailing ideology, it is challenging the established hierarchy and power structure that has been constructed around it.

Those that believe that this fight is not coming, either misunderstands the above stated fact, or is overestimating what Bitcoin as a technology can achieve. They erroneously believe that "blockchain technology" magically secures itself and can autonomously impose its own will on society without human intervention. As Eric Voskuil writes: "Technology is never the root of system security. Technology is a tool to help people secure what they value. Security requires people to act. A server cannot be secured by a firewall if there is no lock on the door to the server room, and a lock cannot secure the server room without a guard to monitor the door, and a guard cannot secure the door without risk of personal harm. Bitcoin is no different, it is secured by people who place themselves at personal risk ([Risk Sharing Principle](https://github.com/libbitcoin/libbitcoin-system/wiki/Risk-Sharing-Principle))."

Casual users and profit seekers driven purely by economic incentives will not place themselves at personal risk to protect Bitcoin. They are weak hands that will scatter at the first sight of trouble. It is only the true believers who will place themselves at personal risk. When propaganda starts to fill the social media channels, true believers will fight back with education. When the law comes knocking on people's door, true believers will keep their Bitcoin hidden. When the state starts to perform a 51% attack, true believers will deploy hashing power to fight back. And it is the true believers who are tirelessly developing on Bitcoin; trying to make it more secure and easier to use without enforcing a tax on the system or rent seeking for personal profit.

Bitcoin can only succeed as a cult for all money is a religion. It is only when Bitcoin has won that it will shed its cult status. When Bitcoin becomes a religion, as fiat is now, we will no longer be aware that we are believing. One Bitcoin will simply be one Bitcoin, and one dollar will be a memory of an irrelevant and dated ideology.
----

<br>

# [On Bitcoin's Academic Lineage](https://www.tokendaily.co/blog/on-bitcoin-s-academic-lineage)
### By [ElSeidy](https://www.tokendaily.co/user/Drmelseidy)
### Posted March 22, 2019
 
[Stiglers law of eponymy](https://en.wikipedia.org/wiki/Stigler%27s_law_of_eponymy) states that no scientific discovery is named after its original discoverer. For example, the pythagorean theorem was well known to the Babyolnians much before Pythagoras. Other examples include Hubble's law, Haley's comet, and Stigler's law itself — being self-referential. It comes as no surprise that Bitcoin is no different. There is a common misconception that Bitcoin bears no resemblance to earlier academic work. Prof. Arvind Narayanan, from Princeton university, challenges this view, in his published article named " _ [Bitcoin's Academic Pedigree](https://dl.acm.org/citation.cfm?id=3167461.3132259)_ ". He shows that almost all of the technical components of Bitcoin originates from the academic literature of the 80s and 90s. This is not to diminish Nakamoto's contribution but to turn attention towards the fact that they stood on the shoulders of giants. Nakamoto's genius was in the intricate way they assembled the components together into a resilient and secure system. Narayanan's positioning of Bitcoin within academic literature helps us appreciate its novelty in the right dimension.

> Bitcoin's intellectual history also serves as a case study demonstrating the relationships among academia, outside researchers, and practitioners, and offers lessons on how these groups can benefit from one another.
In this article we summarize the main points from Narayanan's article and conclude with a set of lessons learned.

![chronology of ideas found in btc](/assets/images/cy19q1/cy19q1m3/elseidy-1.png){: .align-center}*Chronology of key ideas found in Bitcoin. Image taken from Bitcoin's Academic Pedigree.*


## The ledger


The public ledger is the most fundamental component of Bitcoin. To understand Bitcoin's history, we first need to understand the ledger. It is where all transaction records are saved and trusted by all system participants. Bitcoin converts this system for recording payments into a currency. The ledger, as a datastructure, should be **a)** immutable, meaning that its historical state can never be changed, and should be able to **b)** obtain a succinct _cryptographic digest_ of the ledger-state at any time, and have a **c)** consistent global view across all distributed nodes.

### Linked Timestamping

Bitcoin's ledger data structure is borrowed from a series of papers by Stuart Haber and Scott Stornetta written between years 90-97. Their work addressed the problem of document timestamping as they aimed to build a "digital notary" service. Their abstraction of a document is quite general and could be of any data type. They mention financial transactions as a potential application, but it wasn't their focus.

In their design, documents are constantly being created and broadcast. The creator of each document declares a creation timestamp and signs both, the current document and the previously broadcast document. This previous document has signed its own predecessor as well, thereby, creating a long chain of documents with pointers backwards in time. This chain-signing property is essential to provide the **immutability** properties of the datastructure. As followup to their initial work, they introduced other ideas that make this data structure more effective and efficient:

1. **Hashes**: Documents are interlinked with each other using hashes rather than signatures as hashes are simpler and faster to compute.

2. **Batching**: Instead of chaining individual documents, one can group them into batches or blocks such that all documents within a block have the same timestamp.

3. **Indexing**: Within each block, rather than representing the documents using a linear chain, one can link them together using a binary tree of hash pointers, called a Merkle tree.


Clearly, if you replace documents with transactions, this design resembles bitcoin to a great extent. Nakamoto cites Stuart and Scott's work in his original paper.

![figure 2](/assets/images/cy19q1/cy19q1m3/elseidy-2.png){: .align-center}

### Merkle Trees

As mentioned earlier, it is more efficient to represent blocks using trees rather than a linear-chain. Abstractly, each block is represented as a Merkle tree, where the leaf nodes are transactions, and internal nodes consist of two pointers pointing to its children and a digest computed by their hashes as depicted in Fig. x. This data structure has two important properties:

1. The hash of the latest block acts as a **b)digest**. Any small change to any of the transactions will have a rippling effect all the way to the root of the current block, and the roots of all following blocks. Therefore, knowing the latest hash is sufficient to download a verified ledger from untrusted sources.
2. Another important property is the ability to efficiently prove that a particular transaction is included in the ledger. This is a highly desirable property for performance and scalability reasons.


Merkle trees have been around long before. They are named after Ralph Merkle, a pioneer in asymmetric cryptography who proposed the idea in his [1980 paper](http://www.merkle.com/papers/Protocols.pdf). By cryptographic standards, this idea is ancient, but its power has been appreciated since late.

Bitcoin may be the most well-known real-world instantiation of Haber and Stornetta's data structures, but it is not the first. For example, [Guardtime](https://en.wikipedia.org/wiki/Guardtime) started offering document timestamping services in 2007.

### Consensus & Byzantine Fault Tolerance

Another important requirement for public ledgers is to achieve a **consistent** transaction (or block) ordering across all nodes. **Consensus** across all nodes about state-consistency is inevitable for the ledger, or else, the collective ledger can spawn to different chain-forks. Linked timestamping alone is not enough to resolve forks.

A different research field called, **fault-tolerant distributed computing**, has studied this problem for decades. Generally speaking, the solution to this problem is one that enables a set of nodes to adopt the same state/transaction transitions in the same order. The particular order doesn't matter as much as the consistent view across all nodes.

Early solutions, including [Paxos](http://www.bitsavers.org/pdf/dec/tech_reports/SRC-RR-49.pdf), proposed by Turing Award winner Leslie Lamport in 1989 had constraints on the definition of faulty nodes. A prolific literature followed with more adverse definitions. The definition of _faulty_ was generalized to handle any deviation from the protocol. Such Byzantine faults includes both naturally and maliciously occurring faults. In 1999, a landmark paper by Miguel Castro and Barbara Liskov introduced PBFT which accommodated both Byzantine faults and unreliable networks.

**The literature of fault tolerance is huge and encompasses hundreds of variants and optimizations of Paxos, PBFT, and other seminal protocols. Nakamoto does not cite this literature or use its language in his original white paper. This is in stark contrast to linked timestamping.**
However, all of this work makes assumptions about the definition of honest nodes as being procotol-compliant behavior among a subset of participants. On the other hand, Nakamoto suggests that it is not necessary to blindly assume honest behavior because it is incentivized. A richer Nakamoto consensus analysis that takes into account the role of incentives does not fit cleanly into past fault-tolerant systems models.

## Proof of Work


Nearly all fault-tolerant systems assume that most nodes in the system, e.g. 50 percent, are both honest and reliable. Nodes freely join and leave in an open P2P network. An adversary can therefore create enough nodes to overcome the system's consensus guarantees. John Douceur formalized [the attack on Sybil](https://www.freehaven.net/anonbib/cache/sybil.pdf) in 2002 turning to a cryptographic construction, called proof of work to mitigate it. A large segment of the Bitcoin community has the misconception that Nakamoto invented proof of work. The first proposal that could be called PoW today was created in 1992 by Cynthia Dwork and Moni Naor. Their aim was to deter spam by forcing email recipients to process only those emails that were accompanied by evidence that a moderate amount of computational work had been performed by the sender-hence, "proof of work."

### Hashcash

In 1997, Adam Back, a postdoctoral researcher at the time who was part of the cypherpunk community, invented a very similar idea called hashcash. Hashcash is much simpler than the idea of Dwork and Naor, because it uses hash functions. It is based on a simple principle: a hash function acts as a random function, which means that the only way to find an input that hashes a particular output is to try different inputs until the desired output is produced. As the name suggests, proof of work in hashcash was seen as a form of cash. However, the design of hashcash has no protection from double spending.

Incidentally, only in 1999 was the term work proof [coined in a paper](http://www.hashcash.org/papers/bread-pudding.pdf) by Markus Jakobsson and Ari Juels, which also includes a nice survey of the work up to that point.

### Digital Cash

Proof of work did not succeed as an anti-spam measure. One possible reason is the dramatic difference in the puzzle-solving speed of different devices. That means spammers can make a small investment in custom hardware to increase their spam rate by orders of magnitude.

In economics, the natural response to an asymmetry in the cost of production is trade — that is, a market for proof-of-work solutions. But this presents a paradoxical situation, because that would require a working digital currency. Indeed, the lack of such a currency is a major part of the motivation for proof of work in the first place. As hashcash tries to do, one crude solution to this problem is to declare puzzle solutions as cash. More coherent approaches to treating puzzle solutions as cash are found in two essays that preceded bitcoin, describing ideas called [b-money](http://www.weidai.com/bmoney.txt) and Nick Szabo's [bit gold](https://unenumerated.blogspot.com/2005/12/bit-gold.html) respectively. However, if there is disagreement between servers or nodes about the ledger, there is no clear way to resolve it. These mechanisms are not very secure because of the Sybil problem.

### Bitcoin

Understanding all these predecessors that contain pieces of bitcoin's design leads to an appreciation of the true genius of Nakamoto's innovation. In bitcoin, for the first time, puzzle solutions don't represent cash by themselves. on the contrary, they are merely used to secure the ledger. Solving proof of work is performed by specialized entities called miners.

A miner who contributes a block is rewarded with newly minted units of the currency in exchange for the service of maintaining the ledger,whereas malicious activity is penalized. In this way, miners ensure each other's compliance with the protocol due to the monetary incentives.

Bitcoin neatly avoids the double-spending problem plaguing _proof-of-work-as-cash_ schemes because it avoids puzzle solutions themselves having value. In fact, puzzle solutions are decoupled twice from the economic value: the amount of work needed to produce a block in proportion to the global mining power, and the number of bitcoins issued per block.

> Nakamoto's genius, then, wasn't any of the individual components of bitcoin, but rather the intricate way in which they fit together to breathe life into the system. The timestamping and Byzantine agreement researchers didn't hit upon the idea of incentivizing nodes to be honest, nor, until 2005, of using proof of work to do away with identities. Conversely, the authors of hashcash, b-money, and bit gold didn't incorporate the idea of a consensus algorithm to prevent double spending.
> In bitcoin, a secure ledger is necessary to prevent double spending and thus ensure that the currency has value. A valuable currency is necessary to reward miners. In turn, strength of mining power is necessary to secure the ledger. Without it, an adversary could amass more than 50 percent of the global mining power and thereby be able to generate blocks faster than the rest of the network, double-spend transactions, and effectively rewrite history, overrunning the system. Thus, bitcoin is bootstrapped, with a circular dependence among these three components. Nakamoto's challenge was not just the design, but also convincing the initial community of users and miners to take a leap together into the unknown — back when a pizza cost 10,000 bitcoins and the network's mining power was less than a trillionth of what it is today.

## Public Keys as Identities


Bitcoin uses public keys as identities in the system. Transactions transfer value from and to public keys, which are called addresses. This notion of decentralized identity management dates back to David Chaum, the father of digital cash. In his 1981 [paper](https://www.freehaven.net/anonbib/cache/chaum-mix.pdf), he states: "A digital 'pseudonym' is a public key used to verify signatures made by the anonymous holder of the corresponding private key". The public-keys-as-identities idea is also seen in b-money and bit gold. Thus Bitcoin proved to be the most successful instantiation of Chaum's idea.

## Blockchains


Nakamoto makes no mention of the term blockchain. In fact, the term blockchain does not have a standard technical definition but is a loose umbrella term used by different parties to refer to systems with varying levels of resemblance to bitcoin and its ledger. Narayanan injects a dose of skepticism around blockchains for the following reasons:

* Many proposed blockchain applications, especially in banking, don't use Nakamoto consensus. Instead, they use the ledger data structure and Byzantine agreement which date back to the '90s. This negates the claim that blockchains are a new and revolutionary technology. Instead, the buzz around blockchains has helped banks launch collective action to deploy shared-ledger technology, like the ["stone soup" parable](https://en.wikipedia.org/wiki/Stone_Soup).

* Blockchains are frequently presented as more secure than traditional registries which is a misleading claim. The _systemic_ risk of blockchains may be lower than that of many centralized institutions, but the _endpoint-security_ risk of blockchains is much worse. For example, in a blockchain-based stock registry, if a user loses control of her private keys, she loses her assets.

## Conclusions and Lessons


The history described in Naryanan's survey provides practitioners and academics rich and complementary lessons:

1. Practitioners should be skeptical about revolutionary technology claims. Most of the ideas in bitcoin that have generated excitement in the enterprise, such as distributed ledgers and Byzantine agreement, actually date back 20 years or more. Recognize that no breakthroughs may be required for your problem.

2. Academia seems to have the opposite problem of resisting to radical, extrinsic ideas. The bitcoin white paper was more novel than most academic research. We've seen repeatedly that ideas in the research literature can be gradually forgotten or unappreciated, particularly if they are ahead of their time.

3. Both practitioners and academics would do well to revisit old ideas to glean insights for present systems. Bitcoin was unusual and successful not because it was on the cutting edge of research on any of its components, but because it combined old ideas from many previously unrelated fields. This is not easy to do, as it requires bridging disparate terminology and assumptions.

4. It should be possible for practitioners to identify overhyped technology. Some hype indicators include, difficulty identifying the technical innovation; difficulty of finding meaning of supposedly technical terms, because of companies eager to attach their own products to the bandwagon; difficulty identifying the problem that is being solved; and finally, technology claims solving social problems or creating economic & political upheaval.

5. In contrast, it is difficult for academia to sell its inventions. For example, it's unfortunate that the original proof-of-work researchers do not get credit for bitcoin, possibly because the work wasn't well known outside academic circles. Engaging with the real world is a source of fresh ideas that not only helps get credit but also reduces reinvention.
----

<br>

# [Bitcoin's True Market Dominance](https://medium.com/@jpthor/bitcoins-market-dominance-a9693ff604bf)
## Analysing Bitcoin's true market dominance, taking liquidity into account. A new metric, Volume-Weighted Cap, is derived and shows that Bitcoin has Pareto dominance (>80%) on the market.
### By [JP Thor [ ₿ ⚡️]](https://medium.com/@jpthor)
### Posted March 22. 2019

![jp-1](/assets/images/cy19q1/cy19q1m3/jp-1.png){: .align-center}*CMC's Market Dominance — a flawed metric*


Browsing twitter recently I saw a tweet quoting Vitalik, the infamous founder of Ethereum, from some podcast:

![tweet](/assets/images/cy19q1/cy19q1m3/jp-2.png){: .align-center}

I took the comment to be rather disingenuous, knowing that Vitalik enthralls at every chance to show mathematical edge. He seemed to be referring to CoinMarketCap's "Market Dominance", a metric fixated on by many, despite being based on "market cap" — a lamented metric. Market Cap on CMC is simply the market price multiplied by circulating supply, which many argue can easily be manipulated by things such as low volume, pre-mines and circulating supply malfeasance.

I immediately wondered if market share was some form of [Pareto-distribution](https://en.wikipedia.org/wiki/Pareto_principle), "the **law of the vital few,** or the **principle of factor sparsity".**Pareto Distribution is itself a form of Power Law, and is often observed in nature where the rule of equilibrium abounds.

Considering that cryptocurrency trading is practically a free market (very few externalities), I posed the hypothesis that it _was_ a Pareto distribution, and set out to test it.

### Pareto Distribution

The Pareto Distribution is given by the equation:

```
y = 20% ^(log(x)/log(80%))
```
![jp-3](/assets/images/cy19q1/cy19q1m3/jp-3.png){: .align-center}*Pareto Distribution*

The characteristic that is most notable is _"80% is owned by the 20%, 20% is owned by the 80%",_ which is quite easy to highlight. It is scale invariant — essentially no matter the scale spectrum, the distribution is the same. It can also be referred to as a fractal distribution since it looks the same at any level of zoom.

## The Volume Problem

The Top 100 Coins and their MarketCap and Volume were plotted against a generic Pareto Distribution:

![jp-4](/assets/images/cy19q1/cy19q1m3/jp-4.png){: .align-center}*Not a Pareto Distribution*

It wasn't even closely aligned with a Pareto Distribution, and the linear scale wasn't appropriate.

Switching to Log view, it was clear there _was_ some form of [Power Law Distribution](https://en.wikipedia.org/wiki/Power_law).

![poor volume circulation](/assets/images/cy19q1/cy19q1m3/jp-5.png){: .align-center}*Poor volume correlation*

While **MarketCap** had high a R² value (best-fit), which seemed natural since the coins were ranked in order of market cap, what was concerning to me was the low R² for **Volume.**I expected this to share the same distribution as market cap.

Low volume in some coins was indicative of a trapped market, and artificial market cap — some coins had less than 0.1% of their market cap in daily volume, compared to the Top 10, which all had >30% in volume/cap; a difference of more than two factors.

## Volume-Weighted Cap

I deduced that Volume (liquidity) _had to be_ weighted as a metric, so they were multiplied together to form another metric: **"Volume-Weighted Cap ($²)".**The lower the volume, the lower the overall score.

Aggregating the last 12 months of records, averaging, then capturing the proportion of **"Volume-Weighted Cap"** over the Top 100 coins, the following plot was obtained:

![s curve](/assets/images/cy19q1/cy19q1m3/jp-6.png){: .align-center}*A surprising S curve*

Firstly the R² value was noticed to be much higher, and an interesting "S" curve was observed. It seemed that the bulk of the average Top 100 complied with Power Law, before dropping precipitously towards the final 10 coins. Without doing further research into this, I hypothesised that it was the "Page 1 effect", where coins that are in the Top 100 of CMC attract the most attention, and coins towards the end of the page drop in and out of the first page, losing interest as a result.

Removing the final 1/3rd of coins, the first 67 were plotted on a Log-Log scale, with very high correlation to Power Law:

![high correlation](/assets/images/cy19q1/cy19q1m3/jp-7.png){: .align-center}*High correlation with Power Law*

Sorting the Top 67 coins by Volume-Weighted Cap, and then plotting Market Cap and Volume, it was **immediately obvious** that the Power Law best-fit scores were cumulatively _much higher._

![volume and mcap](/assets/images/cy19q1/cy19q1m3/jp-8.png){: .align-center}*A much better sort for both Volume and MarketCap*

Thus I concluded that the market spread _was_ in fact a Power Law Distribution (but not strictly Pareto), and it required factoring in liquidity.

## Volume-Weighted Market Dominance

Now returning to the original inspiration for the research, I sort to address what was the true dominance of Bitcoin, taking volume into account.

The last 12 months of Volume-Weighted Cap were plotted for Bitcoin, Ethereum and Others (which included Ethereum):

![market dominance](/assets/images/cy19q1/cy19q1m3/jp-0.png){: .align-center}*Volume-Weighted Market Dominance for Bitcoin is 80% and trending up*

It is clear that Bitcoin _is_ the dominant currency when taking liquidity into account. In terms of _share_, it is consistently over 80% and trending up.

In fact, just taking into account the Top 5 coins, Bitcoin (the 20%) captures over 85% of the market — thus it is a Pareto distribution, and actually _much stronger._ This is only testament to how strong the Schelling Point around Bitcoin is.

![dominance](/assets/images/cy19q1/cy19q1m3/jp-10.png){: .align-center}*Bitcoin (#1) has Pareto Dominance in the Top 5*

It is my opinion that Bitcoin will continue to preserve its Schelling Point, and maintain greater than 80% market dominance. CoinMarketCap's **"Market Dominance"** is flawed since it does not factor in liquidity and the reported 55% is significantly understated.

Thus I conclude that Vitalik is mis-informed and lazy in his reference to CMC's flawed market share of Bitcoin, when in fact, it is stronger than ever.

Follow me on twitter, I research and write about Bitcoin.

[https://twitter.com/jpthor__](https://twitter.com/jpthor__)
----

<br>

